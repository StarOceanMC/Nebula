From 9ec61ca661fe4d6fb948308f9c86f4f62a71a792 Mon Sep 17 00:00:00 2001
From: Lovely_xianxian <xyx_dada@outlook.com>
Date: Sat, 22 Feb 2020 16:53:40 +0800
Subject: [PATCH] Add option to configure timings url

---
 src/main/java/co/aikar/timings/TimingsExport.java  | 2 +-
 src/main/java/xianxian/mc/nebula/NebulaConfig.java | 5 +++++
 2 files changed, 6 insertions(+), 1 deletion(-)

diff --git a/src/main/java/co/aikar/timings/TimingsExport.java b/src/main/java/co/aikar/timings/TimingsExport.java
index b09981e9b..1a23d7fec 100644
--- a/src/main/java/co/aikar/timings/TimingsExport.java
+++ b/src/main/java/co/aikar/timings/TimingsExport.java
@@ -307,7 +307,7 @@ public class TimingsExport extends Thread {
         String response = null;
         String timingsURL = null;
         try {
-            HttpURLConnection con = (HttpURLConnection) new URL("http://timings.aikar.co/post").openConnection();
+            HttpURLConnection con = (HttpURLConnection) new URL(xianxian.mc.nebula.NebulaConfig.timingsURL).openConnection(); // Nebula - Add option to configure timings url
             con.setDoOutput(true);
             String hostName = "BrokenHost";
             try {
diff --git a/src/main/java/xianxian/mc/nebula/NebulaConfig.java b/src/main/java/xianxian/mc/nebula/NebulaConfig.java
index 6425f6e9f..894918bde 100644
--- a/src/main/java/xianxian/mc/nebula/NebulaConfig.java
+++ b/src/main/java/xianxian/mc/nebula/NebulaConfig.java
@@ -191,4 +191,9 @@ public class NebulaConfig {
     private static void beesInsideLore() {
         beesInsideLore = getString("localization.bees-inside-lore", beesInsideLore);
     }
+    
+    public static String timingsURL = "http://timings.aikar.co/post";
+    private static void timingsURL() {
+        timingsURL = getString("timings.url", timingsURL);
+    }
 }
-- 
2.26.2

